nextflow_pipeline {

  name "Test Hello World"
  script "nextflow-io/hello"

  test("hello world example should start 4 processes") {

    when {

    }

    then {
      assert workflow.success
      with(workflow.trace){
       	assert tasks().size() == 4
        assert succeeded().size() == 4
        assert failed().size() == 0
      }
      assert workflow.stdout.containsAll(['Ciao world!', 'Bonjour world!', 'Hello world!', 'Hola world!'])
    }

  }

}
